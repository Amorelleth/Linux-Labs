1. Что происходит при прерывании скрипта text-trap.sh? Объясните, почему.

`При прерывании скрипта text-trap.sh сигнал SIGINT (Ctr + C) перехватывается прописанной перед этим командой trap 'echo "Аварийное завершение..."; exit 1' SIGINT, в соответствии с которой перед завершением выводит на экран 'Аварийное завершение...'`

2. Напишите, по какой причине выводы команды ls -l /proc/self и ls -l /proc/$$ отличаются?

`$$ это идентификатор текущего процесса, то есть в случае ls -l /proc/$$ идентификатор текущего экземпляра bash. Соответственно, PID будет этого процесса. Файл /proc/self является символической ссылкой на каталог, соответствующий текущему процессу, содержимое ссылки меняется в зависимости от того, кто к ней обращается. То есть ls -l /proc/self сделает обращение из нового процесса ls, у которого будет другой PID.`

3. Напишите, какие дескрипторы в выводе команды ls -l /proc/self/fd отвечают за stdin, stdout, stderr.

```
- stdin lrwx------ 1 root root 64 Dec 18 19:27 0 -> /dev/pts/2
- stdout lrwx------ 1 root root 64 Dec 18 19:27 1 -> /dev/pts/2
- sterr lrwx------ 1 root root 64 Dec 18 19:27 2 -> /dev/pts/2
```

4. Что происходит с дескрипторами при перенаправлении потоков stdout и stderr в файлы при выполнении команды ls -l /proc/self/fd > /tmp/ls.out 2> /tmp/ls.err?

```
Вывод производится в файлы вместо псеводерминала

- stdin lrwx------ 1 root root 64 Dec 18 19:30 0 -> /dev/pts/2
- stdout l-wx------ 1 root root 64 Dec 18 19:30 1 -> /tmp/ls.out
- stderr l-wx------ 1 root root 64 Dec 18 19:30 2 -> /tmp/ls.err
```

5. Запишите эту же команду, добавив к ней перенаправление потока stdin. Что изменилось?

```
Команда: ls -l /proc/self/fd > /tmp/ls.out 2> /tmp/ls.err 0< /tmp/ls.in
Для входящего потока утановились права lr-x------

lr-x------ 1 root root 64 Dec 18 20:01 0 -> /tmp/ls.in
l-wx------ 1 root root 64 Dec 18 20:01 1 -> /tmp/ls.out
l-wx------ 1 root root 64 Dec 18 20:01 2 -> /tmp/ls.err
```

6. Какой эффект наблюдается при выполнении команды exec ps -l?

`Команда exec используется для выполнения команды из самого bash. Она не создает новый процесс, а просто заменяет bash командой, которую нужно выполнить. То есть при вызове exec ps -l дочерний shell заменился на exec. Если команда exec выполнена успешно, она не возвращается к вызывающему процессу.`

7. Что означает pos при выводе содержимого файла /proc/$$/fdinfo/3?

`pos - озиция указателя чтения-записи. Файл содержит "Test3\nTest333\n", всего 14 символов. Отсюда pos: 14.`

8. Существует ли возможность читать содержимое файла test.out даже после его удаления? Почему так происходит?

`Да, так как rm удаляет ссылку на файл, а не сам файл, файлы удаляются тогда, когда они перестают использоваться. Поскольку у нас есть вторая ссылка на файл в дескрипторе 4, через него все еще можно получить доступ к файлу после вызова rm.`
